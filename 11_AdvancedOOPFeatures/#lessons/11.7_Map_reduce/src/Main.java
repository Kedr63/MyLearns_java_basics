import java.util.List;

public class Main {
    public static final String STAFF_TXT = "data/staff.txt";

    // ‚ù§Ô∏è map reduce  (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∫—Ä–∞—â–∞—Ç—å)  ___________________________

    // –ü–æ–≥–æ–≤–æ—Ä–∏–º –æ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ /map reduce/ ‚ûî —ç—Ç–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —á—Ç–æ–±—ã
    // –º–æ–∂–Ω–æ –±—ã–ª–æ –±—Ä–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –ø–æ —Ä–∞–∑–Ω—ã–º —Ä–∞–±–æ—á–∏–º —Å—Ç–∞–Ω—Ü–∏—è–º, –º–∞—à–∏–Ω–∞–º, —Å–µ—Ä–≤–µ—Ä–∞–º
    // –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–∂–µ —Å–æ–±–∏—Ä–∞—Ç—å –Ω–∞ –æ–¥–Ω—É –∫–æ–Ω–µ—á–Ω—É—é –º–∞—à–∏–Ω—É -–∫–æ–Ω–µ—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.
    //     –ù–æ —ç—Ç–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∏ –∫ –º–∞–ª—ã–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –≤ Stream API –æ–Ω–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ
    // —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞. ‚ûò

    public static void main(String[] args) {
        List<Employee> staff = Employee.loadStaffFromFile(STAFF_TXT);

        // –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å—Ä–∞–∑—É –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ (–∫–æ–¥ –Ω–∏–∂–µ): –Ω–∞–ø—Ä–∏–º–µ—Ä –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å —Å—É–º–º—É –≤—Å–µ—Ö –∑–∞—Ä–ø–ª–∞—Ç –≤—ã—à–µ
        // 100_000 —Ä—É–± ‚ûî —á—Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å? ‚ûî –¥–æ–ª–∂–Ω—ã –≤–∑—è—Ç—å /stream/ –∏ —Å–¥–µ–ª–∞—Ç—å /map/ ‚ûî /map/ –ø–æ–∑–≤–æ–ª—è–µ—Ç
        // –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º —Å –Ω–∏–º–∏ –∫–∞–∫-—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å ‚ûî üìçmap(e -> e.getSalary()) - —á—Ç–æ
        // –º—ã –¥–µ–ª–∞–µ–º –∑–¥–µ—Å—å? ‚ûî –º—ã –±–µ—Ä–µ–º –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ /e/ –∏ –ø–æ–ª—É—á–∞–µ–º –µ–≥–æ –∑–∞—Ä–ø–ª–∞—Ç—É - –≤—Å—ë, –º—ã –ø–æ–ª—É—á–∏–ª–∏
        // "map" –∏–∑ –∑–∞—Ä–ø–ª–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤üìç
        //  ‚ûî —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ –∑–∞—Ä–ø–ª–∞—Ç—ã /s/ ‚ûî filter(s -> s >= 100_000) ‚ûî
        //  –ò –≤–æ—Ç —Ç–µ–ø–µ—Ä—å –º—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–¥–µ—Å—å –∏–º–µ–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞—Ä–ø–ª–∞—Ç ‚ûî
        //  ‚ûî –∏ —Ç–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∏—Ö –ø—Ä–æ—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å ‚ûî –º—ã –±–µ—Ä—ë–º –∏ –¥–µ–ª–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é -/reduce/üìå
        // –≤ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –≤—Ö–æ–¥ —É –Ω–∞—Å –ø–æ—Å—Ç—É–ø–∞–µ—Ç, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏, –ø–∞—Ä—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ /(s1, s2)/, –∫–æ—Ç–æ—Ä—ã–µ
        // –º—ã –¥–æ–ª–∂–Ω—ã —Å–ª–æ–∂–∏—Ç—å –∏ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö —Å—É–º–º—É /-> s1 + s2/ ‚ûî
        // ‚ûî –∏ –¥–∞–ª—å—à–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –º–æ–∂–Ω–æ /ifPresent/, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–ø—è—Ç—å –Ω–∞–º –ø—Ä–∏–¥–µ—Ç /optional/
        staff.stream()
             .map(e -> e.getSalary())
             .filter(s -> s >= 100_000)
             .reduce((s1, s2) -> s1 + s2)
             .ifPresent(System.out::println);

        // üìç –°–Ω–∞—á–∞–ª–∞ –º—ã —Å–¥–µ–ª–∞–ª–∏ ‚ûî /map/      (–∫—Å—Ç–∞—Ç–∏ –≥–æ–≤–æ—Ä—è /filter/ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤ map-–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å)
        // –∏  –∑–∞—Ç–µ–º –ø–µ—á–∞—Ç–∞–µ–º —ç—Ç—É —Å—É–º–º—É
        /*  –∫–æ–Ω—Å–æ–ª—å:
            765000     */

        // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:
        // üìç (map) - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç
        // üìç (reduce) - –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å—ë –≤ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç


    }
}