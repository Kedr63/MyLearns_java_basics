package LambdaExpressions_–æ—Ç_–ó–∞—É—Ä_—á–∞—Å—Ç—å_2_—Å_—É—Ä–æ–∫–∞30—á2;

// —Å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–µ –Ω–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
// –ø–æ—Å—Ç–∞–≤—â–∏–∫ /Supplier/ ‚¨á  (–æ–Ω –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—ã –∫–æ–≥–¥–∞ –µ–≥–æ –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è). –í–Ω—É—Ç—Ä–∏ –µ–≥–æ –º–µ—Ç–æ–¥ /T get()/
// –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å /Consumer/ ‚¨á (–≤–Ω—É—Ç—Ä–∏ –µ–≥–æ –º–µ—Ç–æ–¥ /void accept(T t)/)

import java.util.ArrayList;
import java.util.function.Consumer;
import java.util.function.Supplier;


public class Car {
    String model;
    String color;
    double engine;

    public Car(String model, String color, double engine) {
        this.model = model;
        this.color = color;
        this.engine = engine;
    }

    // –æ–≤–µ—Ä–∞–π–¥–∏–º toString —á—Ç–æ–± –∫—Ä–∞—Å–∏–≤–æ –≤—ã–≤–æ–¥–∏–ª–æ—Å—å
    public String toString() {
        return "Our car is " + model + " , color is " + color + " and engine = " + engine;
    }

    // —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ ‚¨á , –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç—Ä–∏ –º–∞—à–∏–Ω—ã, –ø–æ–º–µ—â–∞—Ç—å –∏—Ö –≤ ArrayList, –∏ return —ç—Ç–æ—Ç
    // ArrayList –Ω–∞–º. –ê –∫–∞–∫–∏–µ –º–∞—à–∏–Ω—ã –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å? - –º—ã —É–∂–µ –±—É–¥–µ–º –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ –õ–í, –∫–æ–≥–¥–∞ –±—É–¥–µ–º
    // –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞ /main/
}

class Test10 {
    public static ArrayList<Car> createThreeCars(Supplier<Car> carSupplier) {
        ArrayList<Car> al = new ArrayList<>();
        for (int i = 0; i < 3; i++) {
            al.add(carSupplier.get()); // –∑–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–µ–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ /get()/ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Supplier
        }
        return al; // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–π ArrayList
    }
    // –ø–æ—Ö–æ–∂–∏–µ –≤–µ—â–∏ ‚¨Ü –º—ã –¥–µ–ª–∞–ª–∏ —Å /Preticate<T>/ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ –æ –õ–í.
    // –í –∏—Ç–æ–≥–µ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ /T get()/ Supplier-–∞, —Ç.–µ. –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –µ–≥–æ –∞–±—Å—Ç—Ä. –º–µ—Ç–æ–¥,
    // –∞ —É–∂–µ —á—Ç–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ - –º—ã —Å–µ–π—á–∞—Å –±—É–¥–µ–º —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–≥–¥–∞ –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥




    public static void main(String[] args) {
        ArrayList<Car> ourCars = createThreeCars(() -> new Car("Nissan tilda", "black", 1.6));
        // –≤ () –º–µ—Ç–æ–¥–∞ –º—ã –ø–∏—à–µ–º: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥ /T get()/ –∫–∞–∫–æ–π-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä? - T get() –Ω–∏—á–µ–≥–æ
        // –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç -> –∑–Ω–∞—á–∏—Ç –∑–¥–µ—Å—å –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å–∫–æ–±–∫–∏ ();
        // –¥–∞–ª—å—à–µ —Å–∏–º–≤–æ–ª /->/. –ú–µ—Ç–æ–¥ /T get()/ —á—Ç–æ –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å? - –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ <T>, <T> —É –Ω–∞—Å —á—Ç–æ? -> <Car>,
        // –∑–Ω–∞—á–∏—Ç –º—ã –¥–æ–ª–∂–Ω—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å –º–∞—à–∏–Ω—É /Car/ -> –º—ã —Å–æ–∑–¥–∞–µ–º /new Car(...)/
        //   –í—Å—ë –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ: –º–µ—Ç–æ–¥ /T get()/ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø <T> –∑–¥–µ—Å—å <Car>

        System.out.println("ourCars: " + ourCars);
       /* –∫–æ–Ω—Å–æ–ª—å:
        ourCars: [Our car is Nissan tilda , color is black and engine = 1.6, Our car is Nissan tilda ,
        color is black and engine = 1.6, Our car is Nissan tilda , color is black and engine = 1.6]*/
        // ‚¨Ü  –≤—ã–≤–µ–¥–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å: –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞—Å—Ç —Ç—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–∞—à–∏–Ω—ã –∏ –ø–æ–º–µ—Å—Ç–∏—Ç –≤ ArrayList
        // –¢–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  /Supplier/

        // –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å /Consumer/ üìå (—ç—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –∏ –æ–Ω –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç). –ü–æ–¥ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º
        // –º—ã –ø–æ–Ω–∏–º–∞–µ–º —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º, –∫–∞–∫-—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç—å –µ–≥–æ.
        // –í–Ω—É—Ç—Ä–∏ –µ–≥–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ /void accept(T t)/, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä
        // —Ç–∏–ø–∞ /–¢ t/, (—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ /Consumer & Supplier/ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è).

        // –î–∞–≤–∞–π—Ç–µ –ø—Ä–∏–¥—É–º–∞–µ—Ç –∑–∞–¥–∞—á–∫—É –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º —ç—Ç–∏ –¥–≤–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
        // –î–æ–ø—É—Å—Ç–∏–º —Ö–æ—á—É —Å–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å –º–æ—é –º–∞—à–∏–Ω—É - –ö–∞–∫ –º–µ–Ω—è—Ç—å? - –±—É–¥—É —Ä–µ—à–∞—Ç—å
        // –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞. –ù–∞–ø–∏—à–µ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ ‚¨á  /changeCar(Car car, Consumer<Car>consumer)/
        changeCar(ourCars.get(0), car -> {
            car.color = "red";
            car.engine = 2.4;
            System.out.println("Updated car: " + car);
        });
        // –¢.–µ. —è –≤—ã–∑–≤–∞–ª –º–µ—Ç–æ–¥ /changeCar/, –∏ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ —Å–∫–∞–∑–∞–ª –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –º–µ—Ç–æ–¥ /consumer-–∞/
        System.out.println("ourCars: " + ourCars);
        /*–∫–æ–Ω—Å–æ–ª—å:
        Updated car: Our car is Nissan tilda , color is red and engine = 2.4

        ourCars: [Our car is Nissan tilda , color is red and engine = 2.4, Our car is Nissan tilda ,
         color is black and engine = 1.6, Our car is Nissan tilda , color is black and engine = 1.6]*/
        // —Ç–µ–ø–µ—Ä—å "Updated car: " –æ–±–Ω–æ–≤–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ –ø–æ –º–∞—à–∏–Ω–µ, –∏ –≤ –Ω–∞—à–µ–º ArrayList-–µ /ourCars/ –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ
        // —Ç–µ–ø–µ—Ä—å –∏–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–∞—à–∏–Ω–∞, –Ω–∞ –≤—Ç–æ—Ä–æ–º –∏ —Ç—Ä–µ—Ç—å–µ–º –º–µ—Å—Ç–µ –ø—Ä–µ–∂–Ω–∏–µ —Å—Ç–∞—Ä—ã–µ –º–∞—à–∏–Ω—ã.

        // –ó–∞–º–µ—Ç–∫–∞: –≤–æ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ /changeCar/ –∏ –µ–≥–æ –≤—ã–∑–æ–≤ –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø–æ –¥—Ä—É–≥–æ–º—É,
        // –∏—Å–ø–æ–ª—å–∑—É—è –¥—Ä—É–≥—É—é —Ç–µ—Ö–Ω–∏–∫—É –≤ —Ä–∞–±–æ—Ç–µ —Å –õ–í
        Consumer<Car> consumer = car -> {
            car.color = "red";
            car.engine = 2.4;
            System.out.println("Updated car: " + car);
        };
        // –∏ –∑–∞—Ç–µ–º –Ω–∞ —ç—Ç–æ–º –æ–±—ä–µ–∫—Ç–µ /consumer/ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ /accept(car)/
        consumer.accept(ourCars.get(0));
        // –í—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫–∂–µ
        // –°–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏: –º—ã —Å–æ–∑–¥–∞–ª–∏ –æ–±—ä–µ–∫—Ç consumer-–∞ –∏ –ø–æ—Å–ª–µ /=/ –ø–æ–∫–∞–∑–∞–ª–∏ –∫–∞–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
        // –µ–≥–æ –º–µ—Ç–æ–¥ /accept/, –∞ –º–µ—Ç–æ–¥ /accept(T t)/, –ø–æ–Ω—è—Ç–Ω–æ–µ –¥–µ–ª–æ, –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ —Å–µ–±—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏
        // –∫–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –∑–¥–µ—Å—å <Car>. –ò –ø–æ—Ç–æ–º –∫–æ–≥–¥–∞ –Ω–∞ consumer-–µ –≤—ã–∑–≤–∞–ª–∏ –º–µ—Ç–æ–¥ accept -
        // –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º update-—Ç—å, —Ç.–µ. –º–µ–Ω—è—Ç—å. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç - –ø–µ—Ä–≤—ã–π
        // —ç–ª–µ–º–µ–Ω—Ç  ArrayList-–∞ /ourCars.get(0)/
        // –ò —Ç–∞–∫ –∏ —Ç–∞–∫ –º–æ–∂–Ω–æ –±—ã–ª–æ –¥–µ–ª–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Å consumer-–æ–º, –∏ —Å Supplier-–æ–º –º–æ–∂–Ω–æ –∏ —Å Predicate-–æ–º
        // –ù–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π, –≥–¥–µ –º–µ—Ç–æ–¥ /changeCar(Car car, Consumer<Car> consumer)/

        // –°–º. –¥–∞–ª–µ–µ class Test2
    }

    public static void changeCar(Car car, Consumer<Car> consumer) {
        consumer.accept(car);
        // —ç—Ç–æ —Å–∞–º–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
    }
}
